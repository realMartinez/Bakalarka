{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Martin\\\\Documents\\\\React\\\\viterbivisualizer\\\\src\\\\TrellisGraph.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrellisGraph = ({\n  nodes,\n  links\n}) => {\n  _s();\n  const svgRef = useRef();\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    const width = svg.node().parentNode.clientWidth;\n    const height = svg.node().parentNode.clientHeight;\n    svg.attr(\"width\", width).attr(\"height\", height);\n\n    // Clear previous render\n    svg.selectAll(\"*\").remove();\n\n    // Define scales for positioning nodes\n    const xScale = d3.scalePoint().domain(nodes.map(node => node.time)).range([20, width - 20]);\n    const yScale = d3.scalePoint().domain([\"00\", \"01\", \"10\", \"11\"]) // Binary states\n    .range([20, height - 20]);\n\n    // Draw links (transitions between states)\n    svg.selectAll(\"line\").data(links).join(\"line\").attr(\"x1\", d => xScale(d.source.time)).attr(\"y1\", d => yScale(d.source.state)).attr(\"x2\", d => xScale(d.target.time)).attr(\"y2\", d => yScale(d.target.state)).attr(\"stroke\", \"black\").attr(\"stroke-width\", 1);\n\n    // Draw nodes (states at each time step)\n    svg.selectAll(\"circle\").data(nodes).join(\"circle\").attr(\"cx\", d => xScale(d.time)).attr(\"cy\", d => yScale(d.state)).attr(\"r\", 5).attr(\"fill\", \"blue\");\n\n    // Add labels to nodes\n    svg.selectAll(\"text\").data(nodes).join(\"text\").attr(\"x\", d => xScale(d.time)).attr(\"y\", d => yScale(d.state) - 10).attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"10px\").text(d => d.state);\n  }, [nodes, links]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 10\n  }, this);\n};\n_s(TrellisGraph, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = TrellisGraph;\nexport default TrellisGraph;\nvar _c;\n$RefreshReg$(_c, \"TrellisGraph\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","TrellisGraph","nodes","links","_s","svgRef","svg","select","current","width","node","parentNode","clientWidth","height","clientHeight","attr","selectAll","remove","xScale","scalePoint","domain","map","time","range","yScale","data","join","d","source","state","target","text","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Martin/Documents/React/viterbivisualizer/src/TrellisGraph.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst TrellisGraph = ({ nodes, links }) => {\r\n  const svgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const svg = d3.select(svgRef.current);\r\n    const width = svg.node().parentNode.clientWidth;\r\n    const height = svg.node().parentNode.clientHeight;\r\n\r\n    svg.attr(\"width\", width).attr(\"height\", height);\r\n\r\n    // Clear previous render\r\n    svg.selectAll(\"*\").remove();\r\n\r\n    // Define scales for positioning nodes\r\n    const xScale = d3\r\n      .scalePoint()\r\n      .domain(nodes.map((node) => node.time))\r\n      .range([20, width - 20]);\r\n\r\n    const yScale = d3\r\n      .scalePoint()\r\n      .domain([\"00\", \"01\", \"10\", \"11\"]) // Binary states\r\n      .range([20, height - 20]);\r\n\r\n    // Draw links (transitions between states)\r\n    svg\r\n      .selectAll(\"line\")\r\n      .data(links)\r\n      .join(\"line\")\r\n      .attr(\"x1\", (d) => xScale(d.source.time))\r\n      .attr(\"y1\", (d) => yScale(d.source.state))\r\n      .attr(\"x2\", (d) => xScale(d.target.time))\r\n      .attr(\"y2\", (d) => yScale(d.target.state))\r\n      .attr(\"stroke\", \"black\")\r\n      .attr(\"stroke-width\", 1);\r\n\r\n    // Draw nodes (states at each time step)\r\n    svg\r\n      .selectAll(\"circle\")\r\n      .data(nodes)\r\n      .join(\"circle\")\r\n      .attr(\"cx\", (d) => xScale(d.time))\r\n      .attr(\"cy\", (d) => yScale(d.state))\r\n      .attr(\"r\", 5)\r\n      .attr(\"fill\", \"blue\");\r\n\r\n    // Add labels to nodes\r\n    svg\r\n      .selectAll(\"text\")\r\n      .data(nodes)\r\n      .join(\"text\")\r\n      .attr(\"x\", (d) => xScale(d.time))\r\n      .attr(\"y\", (d) => yScale(d.state) - 10)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"font-size\", \"10px\")\r\n      .text((d) => d.state);\r\n  }, [nodes, links]);\r\n\r\n  return <svg ref={svgRef}></svg>;\r\n};\r\n\r\nexport default TrellisGraph;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}